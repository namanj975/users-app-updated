let express,listUsers,countUsers,userLogin,bodyParser,verifyToken,dotenv,body;_9fd‍.x([["default",()=>_9fd‍.o]]);_9fd‍.w("express",[["default",["express"],function(v){express=v}]]);_9fd‍.w("./listUsers",[["default",["listUsers"],function(v){listUsers=v}]]);_9fd‍.w("./countUsers",[["default",["countUsers"],function(v){countUsers=v}]]);_9fd‍.w("./userLogin",[["default",["userLogin"],function(v){userLogin=v}]]);_9fd‍.w("body-parser",[["default",["bodyParser"],function(v){bodyParser=v}]]);_9fd‍.w("./auth",[["default",["verifyToken"],function(v){verifyToken=v}]]);_9fd‍.w("dotenv",[["default",["dotenv"],function(v){dotenv=v}]]);_9fd‍.w("express-validator",[["body",["body"],function(v){body=v}]]);/*
 * @Author: naman jain(namanj975@gmail.com) 
 * @Date: 2021-12-29 20:37:55 
 * @Last Modified by: naman jain(namanj975@gmail.com)
 * @Last Modified time: 2022-01-05 19:48:42
 */










let jsonParser = bodyParser.json()
let router = express.Router();
dotenv.config();

_9fd‍.g.console.log("process env", process.env.PORT);
router.use(function timeLog(req, res, next) {
    console.log("hello from app routes");
    _9fd‍.g.console.log('Time: ', Date.now());
    next()
})

router.get('/users', verifyToken, function (req, res) {
    listUsers(req, res);
})

router.get('/users/role/count', verifyToken, function (req, res) {
    countUsers(req, res);
})

router.post('/login', jsonParser, body('email').isEmail().withMessage('Kindly provide the valid mail address!'), body('password').isLength({ min: 8 }).withMessage('Password must be atleast 8 chars long').matches(/\d/)
    .withMessage('Password must contain a number')
    , function (req, res) {
        _9fd‍.g.console.log("here request", req.body);
        userLogin(req, res);
    })

_9fd‍.d(router);